<!DOCTYPE html>
<!--Author: Xiaoman Zhang 2024 -->
<html>
<head>
  <meta charset="utf-8"/>
  <title>
    ReXrank
  </title>
  <meta name="google-site-verification" content="nhtTEYeNrlo4w3RA5TuRR338uGFQGDhhSYAFEBA301c" />
  <meta name="description" content="ReXrank: The leading open-source leaderboard for radiology report generation. Compare and benchmark AI models for medical imaging reports."/>
  <meta name="keywords" content="ReXrank, radiology, report generation, AI, medical imaging, leaderboard, benchmarking"/>
  <meta property="og:title" content="ReXrank: Radiology Report Generation Leaderboard"/>
  <meta property="og:description" content="Open-source leaderboard for comparing and benchmarking AI models in radiology report generation."/>
  <meta property="og:url" content="https://rajpurkarlab.github.io/ReXrank/"/>
  <meta property="og:type" content="website"/>
  <html lang="en"></html>
  <meta content="ReXrank is an open-source leaderboard for AI-powered radiology report generation from chest x-ray images." name="description"/>
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
  <meta content="/logo.png" property="og:image"/>
  <link href="../logo.png" rel="image_src" type="image/png"/>
  <link href="../favicon.ico" rel="shortcut icon" type="image/x-icon"/>
  <link href="../favicon.ico" rel="icon" type="image/x-icon"/>
  <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../stylesheets/layout.css" rel="stylesheet"/>
  <link href="../stylesheets/index.css" rel="stylesheet"/>
  <script src="../javascripts/analytics.js"></script>
  <script src="../bower_components/jquery/dist/jquery.min.js"></script>
  <script src="../javascripts/jquery.tablesorter.min.js"></script>
  <link rel="stylesheet" href="../stylesheets/theme.default.min.css">

  <script async="" defer="" src="https://buttons.github.io/buttons.js"></script>
    <style>
        .model-card {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            background-color: white;
        }
        
        .model-name {
            font-weight: bold;
            margin-bottom: 10px;
            color: #a41034;
        }
        
        .model-prediction {
            white-space: pre-wrap;
            font-family: monospace;
            line-height: 1.5;
        }
        
        .case-navigation {
            margin: 20px 0;
            text-align: center;
        }
        
        .case-counter {
            margin: 0 20px;
            font-size: 18px;
        }
        
        .image-container {
            width: 512px;
            height: 512px;
            margin: 20px auto;
            border: 1px solid #ddd;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .image-container img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        .report-container {
            margin: 20px auto;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
            text-align: center;
        }
        
        .report-label {
            font-weight: bold;
            color: #495057;
            margin-bottom: 8px;
        }
        
        .report-content {
            color: #212529;
            font-size: 16px;
        }

        #imageModal .modal-content {
            width: 90%;
            height: 90%;
            max-width: none;
            display: flex;
            justify-content: center;
            align-items: center;
            background: black;
        }
        
        .close {
            position: absolute;
            right: 25px;
            top: 10px;
            color: #f1f1f1;
            font-size: 35px;
            cursor: pointer;
            z-index: 1001;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            overflow: auto;
        }
    </style>
</head>
<body>
    <div class="navbar navbar-default navbar-fixed-top" id="topNavbar" role="navigation">
        <div class="container clearfix" id="navContainer">
          <div class="rightNav">
            <div class="collapseDiv">
              <button aria-controls="navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button">
                <span class="glyphicon glyphicon-menu-hamburger"></span>
              </button>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="../" style="font-size: 18px;">Home</a>
                  </li>
                  <li>
                    <a href="../explore/rank_example.html" style="font-size: 18px;">Examples</a>
                  </li>
              </ul>
            </div>
          </div>
          <div class="leftNav">
            <div class="brandDiv">
              <a class="navbar-brand" href="../">ReXrank</a>
            </div>
          </div>
        </div>
    </div>

    <div class="cover" id="contentCover">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <!-- <h1>Model Generated Reports Comparison</h1> -->
                    
                    <div class="image-container">
                        <img id="xrayImage" src="" alt="Chest X-ray" />
                    </div>
                    
                    <div class="report-container">
                        <div class="report-label">GroundTruth:</div>
                        <div id="imageReport" class="report-content"></div>
                    </div>

                    <div id="modelPredictions"></div>
                    
                    <div class="case-navigation">
                        <span class="case-counter">Case <span id="currentCase">1</span> of 10</span>
                        <button id="nextCase" class="btn actionBtn inverseBtn">Next Case â†’</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content">
            <div id="modalImage"></div>
        </div>
    </div>

    <script>
        let currentCaseIndex = 0;
        

        
        const cases = [
            {
                "subject_id": "00000013_027",
                "context": "Age:57.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000013_027.png",
                "report": "Cardiomegaly|Effusion|Emphysema|Mass",
                "predictions": {
                    "Model 1": "Findings:Left-sided pacemaker with leads terminating in the right atrium and right ventricle is present.  The heart is moderately enlarged.  The aorta is mildly tortuous.  There is no pulmonary vascular congestion.  No pleural effusion or pneumothorax is seen.  There is no focal consolidation.  No acute osseous abnormalities are detected.Impression:No acute cardiopulmonary abnormality.",
                    "Model 2": "A right internal jugular catheter terminates in the upper SVC. A left pectoral pacemaker is present with the leads in appropriate position. The cardiac silhouette is mildly enlarged. There is no pleural effusion or pneumothorax. There is no focal lung consolidation. There is a small amount of fluid in the right minor fissure. There is a linear opacity in the right mid lung zone, likely atelectasis. There is an irregular opacity in the right lung apex, likely a focus of prior scarring.",
                    "Model 3": "Findings:as compared to the previous radiograph, the patient has received a left pectoral pacemaker. the course of the pacemaker leads is unremarkable, the tip of the lead projects over the right ventricle. there is no evidence of pneumothorax. unchanged appearance of the lung parenchyma and the heart. Impression: ap chest compared to ___ through ___ : moderate - to - large right pneumothorax has increased since ___, apical pleural tube still in place. there is no appreciable right pleural effusion. left lung clear. moderate cardiomegaly stable. no pulmonary edema. transvenous right ventricular pacer lead in standard placement.",
                    "Model 4": "Findings:single frontal view of the chest demonstrates interval placement of a right - sided chest tube with a small right - sided pleural effusion. there is no evidence of pneumothorax. there is mild cardiomegaly. pulmonary vascularity is indistinct. Impression: 1. interval placement of a right - sided chest tube with the tip in the right lung apex. no pneumothorax. 2. left anterior chest wall aicd device in place. 3. mild cardiomegaly. 4. the lungs are clear.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. the right chest tube is in unchanged position. the extent of the pre - existing right pneumothorax is constant. constant appearance of the cardiac silhouette. unchanged left pectoral pacemaker. Impression: ap chest compared to ___ : right apical pleural tube in place. no appreciable right pneumothorax or pleural effusion. subcutaneous emphysema in the right chest wall and neck is decreasing. left lung clear. heart size normal. transvenous right atrial and right ventricular pacer defibrillator leads in standard placements.",
                    "Model 6": "Findings: The X-ray image shows a clear view of the thoracic cavity, including the lungs and heart. There are visible medical devices, possibly indicating prior interventions. The left side of the image has a marker labeled \"L,\" suggesting orientation. The lung fields appear to have some opacities, which may require further evaluation for potential abnormalities.  Impression: The image suggests the presence of medical devices and possible lung opacities. Clinical correlation is recommended to assess for any underlying conditions or complications. Further imaging or diagnostic tests may be necessary for a comprehensive evaluation.",
                    "Model 7": "No significant interval change when compared to the prior study."
                }
            },
            {
                "subject_id": "00000013_028",
                "context": "Age:57.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000013_028.png",
                "report": "Cardiomegaly|Effusion|Emphysema|Mass",
                "predictions": {
                    "Model 1": "Findings:A left-sided pacemaker is present, with leads terminating in the right atrium and right ventricle.  The heart is moderately enlarged.  The aorta is mildly tortuous.  There is no definite pleural effusion or pneumothorax.  There is no focal opacity to suggest pneumonia.  There is no pulmonary edema.Impression:Moderate cardiomegaly.  No evidence of acute cardiopulmonary disease.",
                    "Model 2": "A right-sided pacemaker is in place with the leads terminating in the right atrium and right ventricle. There is a right internal jugular catheter with the tip terminating in the upper SVC. There is a moderate-sized right pneumothorax. There is no mediastinal shift. There is no pleural effusion. The lungs are clear without consolidation or pulmonary edema. The cardiomediastinal silhouette is normal.",
                    "Model 3": "Findings:as compared to the previous radiograph, the patient has received a left pectoral pacemaker. the course of the pacemaker leads is unremarkable, the tip of the leads project over the right atrium and right ventricle. there is no evidence of pneumothorax. no other relevant changes. Impression: ap chest compared to ___ : moderate - to - large hiatal hernia is re - demonstrated. no pneumothorax or pleural effusion, apical pleural tube in place. heart size normal. lungs grossly clear.",
                    "Model 4": "Findings:single frontal view of the chest demonstrates no evidence of pneumothorax. there is a dual lead pacemaker in place with lead tips in the right atrium and right ventricle. there is no evidence of pneumothorax. there is no evidence of focal consolidation. there is no evidence of pulmonary edema. there is cardiomegaly. Impression: 1. single upright ap view of the chest demonstrates stable positioning of a left anterior chest wall aicd device and right chest tube. no evidence of pneumothorax. 2. redemonstration of cardiomegaly with no evidence of pulmonary edema or pleural effusions. no focal parenchymal opacity.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. the right chest tube is in unchanged position. there is no evidence of pneumothorax. normal size of the cardiac silhouette. normal appearance of the lung parenchyma. Impression: ap chest compared to ___ : right apical pleural tube in place. no appreciable right pneumothorax or pleural effusion. subcutaneous emphysema in the right chest wall reflects recent surgery. heart size normal. left lung clear. transvenous right atrial and right ventricular pacer defibrillator leads in standard placements.",
                    "Model 6": "Findings: The X-ray shows a portable anteroposterior (AP) view of the chest. There is evidence of a cardiac device, likely a pacemaker, located in the left upper quadrant of the chest. The lung fields appear to have some opacities, which may suggest the presence of fluid or other pathological changes. The overall quality of the image is somewhat hazy, which may affect the clarity of the findings.  Impression: The presence of a cardiac device is noted, and further evaluation of the lung fields is recommended to assess for any potential abnormalities. The quality of the image may limit the diagnostic accuracy, and additional imaging may be necessary for a comprehensive assessment.",
                    "Model 7": "No significant interval change when compared to the prior study."
                }
            },
            {
                "subject_id": "00000013_029",
                "context": "Age:57.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000013_029.png",
                "report": "Cardiomegaly|Effusion|Emphysema|Mass",
                "predictions": {
                    "Model 1": "Findings:Single AP upright portable view of the chest was obtained.  The patient is status post median sternotomy and CABG.  Left-sided AICD is seen with leads extending to the expected positions of the right atrium and right ventricle.  The cardiac silhouette is top normal to mildly enlarged.  The aorta is calcified.  There is mild pulmonary vascular congestion.  No focal consolidation, large pleural effusion, or evidence of pneumothorax is seen.  There is minimal left base atelectasis.Impression:Mild pulmonary vascular congestion.  No focal consolidation.",
                    "Model 2": "A right internal jugular catheter terminates in the upper SVC. A left pectoral pacemaker is noted with leads terminating in the right atrium and right ventricle. The cardiac silhouette is mildly enlarged. The mediastinal contours are normal. There is no pleural effusion or pneumothorax. There is a focal opacity in the right mid lung zone. There is no other focal consolidation. There is no pulmonary edema.",
                    "Model 3": "Findings:as compared to the previous radiograph, the patient has received a right chest tube. there is no evidence of pneumothorax. the right chest tube is in unchanged position. unchanged appearance of the cardiac silhouette. unchanged appearance of the left lung. Impression: ap chest compared to ___ : two right - sided pleural tubes still in place. there is no pneumothorax or appreciable pleural effusion. opacification in the right lower chest could be fissural pleural fluid or atelectasis but raises concern for pneumonia. left lung is clear. moderate - to - severe cardiomegaly is longstanding.",
                    "Model 4": "Findings:there is a left anterior chest wall pacemaker with leads in the right atrium and right ventricle. the heart is enlarged. there is no evidence of focal consolidation. there are no pleural effusions. there is no pneumothorax. Impression: 1. interval placement of a right - sided chest tube with the tip in the right lung apex. no evidence of pneumothorax. 2. mild pulmonary edema.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. the right chest tube is in unchanged position. there is no evidence of pneumothorax. the left pectoral pacemaker is in constant position. unchanged size of the cardiac silhouette. unchanged appearance of the lung parenchyma. Impression: ap chest compared to ___ : right apical pleural tube in place. no appreciable right pneumothorax or pleural effusion. subcutaneous emphysema in the right chest wall and neck is decreasing. left lung clear. heart size normal. transvenous right atrial and right ventricular pacer defibrillator leads in standard placements.",
                    "Model 6": "Findings: The X-ray shows a clear view of the thoracic cavity, with visible lung fields and cardiac silhouette. There is an implanted device noted on the left side, likely a pacemaker or similar device. The lung fields appear to be clear without any obvious signs of consolidation, effusion, or significant pathology. The bony structures, including the ribs and clavicles, are intact.  Impression: Overall, the X-ray appears to be within normal limits, with the exception of the presence of the implanted device. No acute abnormalities are observed in the lung fields or surrounding structures. Further clinical correlation may be necessary to assess the significance of the implanted device.",
                    "Model 7": "No significant interval change when compared to the prior study."
                }
            },
            {
                "subject_id": "00000013_043",
                "context": "Age:56.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000013_043.png",
                "report": "Mass|Pleural_Thickening",
                "predictions": {
                    "Model 1": "Findings:PA and lateral views of the chest.  Left-sided pacemaker with leads in the right atrium and right ventricle.  Sternotomy wires are intact.  The lungs are clear.  There is no pleural effusion or pneumothorax.  The cardiomediastinal and hilar contours are normal.Impression:No acute cardiopulmonary process.",
                    "Model 2": "There is a pacemaker in the left upper chest with leads terminating in the right atrium and right ventricle. The cardiac silhouette is mildly enlarged. The mediastinal and hilar contours are normal. There is no pleural effusion or pneumothorax. There is no pulmonary vascular congestion. There is mild pleural thickening at the right lung apex. There is no concerning parenchymal opacity.",
                    "Model 3": "Findings:pa and lateral views of the chest provided. left chest wall pacer device is again seen with leads extending to the region of the right atrium and right ventricle. midline sternotomy wires and mediastinal clips are again noted. there is no focal consolidation, effusion, or pneumothorax. the cardiomediastinal silhouette is normal. imaged osseous structures are intact. no free air below the right hemidiaphragm is seen. Impression: no acute cardiopulmonary process.",
                    "Model 4": "Findings:stable appearance of median sternotomy wires and left chest wall 2 - lead aicd / pacemaker. the cardiomediastinal silhouette is normal. the lung parenchyma is clear. there are no pleural or significant bony abnormalities. Impression: 1. pa and lateral chest radiographs demonstrate a left - sided aicd, with intact leads. 2. stable cardiomediastinal silhouette. 3. the lungs appear clear, with no focal infiltrate or pleural effusion. 4. mild degenerative changes of the thoracic spine. visualized osseous structures otherwise unremarkable.",
                    "Model 5": "Findings:the patient is status post median sternotomy and cabg. left - sided aicd / pacemaker device is noted with leads terminating in the right atrium and right ventricle. heart size is normal. mediastinal and hilar contours are unremarkable. pulmonary vasculature is not engorged. lungs are clear without focal consolidation. no pleural effusion or pneumothorax is present. no acute osseous abnormality is detected. Impression: no acute cardiopulmonary process.",
                    "Model 6": "Findings: The X-ray image shows a chest view with a visible pacemaker device located in the upper right quadrant of the thoracic cavity. There are leads extending from the device into the heart, indicating that the pacemaker is actively connected. The lung fields appear clear, with no significant abnormalities noted in the surrounding structures.  Impression: The presence of a pacemaker suggests a history of cardiac issues requiring electronic pacing. The overall appearance of the lungs and heart structures appears normal, indicating no acute complications related to the device. Further clinical correlation may be necessary to assess the patient's condition comprehensively.",
                    "Model 7": "No acute cardiopulmonary process. No pneumothorax."
                }
            },
            {
                "subject_id": "00000032_007",
                "context": "Age:55.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000032_007.png",
                "report": "Cardiomegaly|Edema|Effusion",
                "predictions": {
                    "Model 1": "Findings:The patient is rotated to the right.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient is also in a lordotic position.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies the medial lung apices, partially obscuring the view.  The patient's chin overlies",
                    "Model 2": "Sternotomy wires are intact. There is a prosthetic valve in the aortic position. There are numerous overlying lines and tubes. The cardiac silhouette is enlarged. The mediastinal silhouette is widened. There is mild pulmonary edema. There are small bilateral pleural effusions. There is no pneumothorax. There is no focal lung consolidation.",
                    "Model 3": "Findings:the patient is rotated to the right. the patient is rotated to the left. the patient is status post median sternotomy and cabg. the cardiac silhouette is enlarged. there is moderate pulmonary edema. there are likely bilateral pleural effusions. no pneumothorax is seen. Impression: 1. moderate pulmonary edema with small bilateral pleural effusions. 2. bibasilar opacities, likely atelectasis.",
                    "Model 4": "Findings:submitted for review is a single, frontal portable view of the chest dated 4 / 21 / 2015 at 0613 hours. sternotomy wires are seen in the midline. the cardiac silhouette is noted to be enlarged. the cardiomediastinal silhouette is otherwise unremarkable. the lungs demonstrate diffuse increased reticular markings with indistinct pulmonary vessels. there is confluent alveolar opacification in the left lower lobe in the retrocardiac region. the lungs are otherwise clear. no pleural or bone or soft tissue abnormalities noted. Impression: 1. cardiomegaly with pulmonary edema and bilateral pleural effusions. 2. left lower lobe atelectasis versus consolidation.",
                    "Model 5": "Findings:as compared to the previous radiograph, the patient has received a dobbhoff catheter. the course of the catheter is unremarkable, the tip of the catheter projects over the middle parts of the stomach. no evidence of complications, notably no pneumothorax. otherwise, unchanged radiograph. Impression: ap chest compared to ___ through ___ : severe cardiomegaly is chronic. pulmonary vascular congestion and mild pulmonary edema are all worse since ___. left lower lobe is obscured by the large cardiac silhouette and pleural effusion, but the right lung is clear. there is no pneumothorax.",
                    "Model 6": "Findings: The image appears to be an X-ray of the chest area. There are visible structures such as the ribs, clavicles, and possibly some medical devices or lines, indicating prior medical intervention. The overall clarity of the image is low, making it difficult to assess specific details or abnormalities.  Impression: The X-ray suggests a complex medical history, possibly involving surgical procedures or ongoing treatment. However, due to the lack of clarity, a definitive assessment cannot be made. Further imaging or clinical correlation may be necessary for a comprehensive evaluation.",
                    "Model 7": "Midline sternotomy wires and mediastinal clips are unchanged. The cardiomediastinal silhouette is unchanged. There is no focal consolidation. There is no pleural effusion or pneumothorax. There is no overt pulmonary edema."
                }
            },
            {
                "subject_id": "00000032_008",
                "context": "Age:55.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000032_008.png",
                "report": "No Finding",
                "predictions": {
                    "Model 1": "Findings:The patient is rotated to the right.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's chin overlies the medial lung apices.  The patient's ch",
                    "Model 2": "Sternotomy wires are noted. There is moderate cardiomegaly. There is mild pulmonary edema. There are small bilateral pleural effusions. There is no pneumothorax. There is no focal consolidation.",
                    "Model 3": "Findings:the patient is rotated to the right. the patient is rotated to the right. the patient is rotated to the right. the patient is status post median sternotomy and cabg. there are moderate to severe bilateral pleural effusions with overlying atelectasis. underlying consolidation is difficult to exclude. the cardiac silhouette is enlarged. mediastinal contours are grossly stable. Impression: limited exam with cardiomegaly and mild pulmonary edema.",
                    "Model 4": "Findings:submitted for review is a single frontal portable view of the chest dated 4 / 14 / 2013 at 0831. sternotomy wires are seen in the midline. the cardiac silhouette is enlarged. the cardiomediastinal silhouette is otherwise unremarkable. the lung volumes are low. there is confluent alveolar opacification in the bases bilaterally. there is blunting of the costophrenic angles bilaterally. Impression: 1. cardiomegaly with pulmonary edema and bilateral pleural effusions consistent with congestive heart failure. 2. left lower lobe atelectasis versus consolidation.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. the lung volumes remain low. there are bilateral pleural effusions and subsequent areas of atelectasis. moderate cardiomegaly. no overt pulmonary edema. no pneumonia. Impression: limited exam with suspected pulmonary edema.",
                    "Model 6": "I'm unable to analyze or interpret medical images such as X-rays. It's important to consult a qualified medical professional for accurate findings and impressions regarding such images. If you have any other questions or need assistance with a different topic, feel free to ask!",
                    "Model 7": "Port-A-Cath terminates at the cavoatrial junction. Heart size is enlarged. Mediastinal and hilar contours are unchanged. Pulmonary vasculature is engorged but there is no overt pulmonary edema. No focal consolidation, pleural effusion or pneumothorax is seen."
                }
            },
            {
                "subject_id": "00000032_009",
                "context": "Age:55.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000032_009.png",
                "report": "No Finding",
                "predictions": {
                    "Model 1": "Findings:The patient is status post median sternotomy and CABG.  The heart is moderate to severely enlarged.  The aorta is tortuous.  There is mild pulmonary edema.  Small bilateral pleural effusions are noted.  Bibasilar airspace opacities likely reflect compressive atelectasis.  No pneumothorax is identified.  There are no acute osseous abnormalities.Impression:Moderate to severe cardiomegaly with mild pulmonary edema and small bilateral pleural effusions.  Bibasilar airspace opacities likely reflect compressive atelectasis.",
                    "Model 2": "Sternotomy wires are intact. There are multiple surgical clips overlying the left hemithorax. There is a moderate left pleural effusion and a small right pleural effusion. There is moderate pulmonary edema. There are likely bibasilar atelectatic changes. The cardiac silhouette is enlarged. There is no pneumothorax.",
                    "Model 3": "Findings:the patient is status post median sternotomy and cabg. moderate enlargement of the cardiac silhouette is re - demonstrated. the mediastinal contour is unchanged with atherosclerotic calcifications noted at the aortic knob. there is mild pulmonary edema with perihilar haziness and vascular indistinctness. small bilateral pleural effusions are re - demonstrated, not substantially changed in the interval. bibasilar airspace opacities likely reflect compressive atelectasis. no pneumothorax is identified. Impression: 1. moderate pulmonary edema with small bilateral pleural effusions. 2. bibasilar opacities likely reflect atelectasis, but infection is not excluded.",
                    "Model 4": "Findings:single portable view of the chest demonstrates interval lower lung volumes with vascular crowding. re - demonstration of bibasilar opacities, left greater than right, as well as a left pleural effusion. redemonstration of pulmonary edema. Impression: 1. cardiomegaly with pulmonary edema and bilateral pleural effusions. 2. left lower lobe atelectasis versus consolidation.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. moderate pulmonary edema with bilateral pleural effusions and areas of atelectasis at the lung bases. moderate cardiomegaly. no new parenchymal opacities. Impression: findings consistent with congestive heart failure.",
                    "Model 6": "I'm unable to analyze or interpret medical images directly. However, if you have specific questions or need information about medical imaging, I can help with that!",
                    "Model 7": "Midline sternotomy wires and mediastinal clips are noted. The cardiac and mediastinal silhouettes are stable. There is no pneumothorax. There is no focal consolidation. There is no pleural effusion. There is no overt pulmonary edema."
                }
            },
            {
                "subject_id": "00000032_010",
                "context": "Age:55.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000032_010.png",
                "report": "No Finding",
                "predictions": {
                    "Model 1": "Findings:The patient is status post median sternotomy and CABG.  The heart is moderate to severely enlarged.  The aorta is tortuous.  There is mild pulmonary edema.  Small bilateral pleural effusions are noted.  No pneumothorax is identified.  There are no acute osseous abnormalities.Impression:Moderate to severe cardiomegaly with mild pulmonary edema and small bilateral pleural effusions.",
                    "Model 2": "Sternotomy wires are intact. There is a right internal jugular catheter with the tip in the upper SVC. There is a moderate-to-large left pleural effusion and a small right pleural effusion. There is mild pulmonary edema. The cardiac silhouette is enlarged. There is no pneumothorax.",
                    "Model 3": "Findings:the patient is status post median sternotomy and cabg. moderate enlargement of the cardiac silhouette is re - demonstrated. the mediastinal contour is similar with atherosclerotic calcifications noted at the aortic knob. moderate pulmonary edema is worse compared to the previous exam with small bilateral pleural effusions, larger on the left. bibasilar airspace opacities likely reflect compressive atelectasis. no pneumothorax is identified. there are no acute osseous abnormalities. Impression: mild pulmonary edema and small bilateral pleural effusions. bibasilar airspace opacities may reflect atelectasis though infection or aspiration cannot be excluded.",
                    "Model 4": "Findings:single portable view of the chest reveals lower lung volumes. there is cardiomegaly and pulmonary edema. there is opacification of the left lower lobe likely representing atelectasis or consolidation. there is a large left pleural effusion. Impression: 1. cardiomegaly with pulmonary edema and bilateral pleural effusions. 2. left lower lobe atelectasis versus consolidation.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. the right picc line is in unchanged position. the tip projects over the mid - to - low svc. there is no evidence of complications, notably no pneumothorax. otherwise, the radiograph is unchanged. Impression: ap chest compared to ___ : severe cardiomegaly is chronic, but pulmonary vascular congestion has worsened and there is new mild pulmonary edema. small - to - moderate left pleural effusion has increased. right pic line ends in the mid - to - low svc. no pneumothorax.",
                    "Model 6": "Findings: The image appears to be a radiographic examination of the chest. There are visible medical devices or wires, suggesting prior surgical intervention or monitoring. The lung fields are somewhat obscured, making it difficult to assess for any abnormalities such as infiltrates or masses. The overall quality of the image may limit diagnostic clarity.  Impression: The presence of medical devices indicates a history of treatment or monitoring. Further evaluation may be necessary to assess lung health and any potential complications related to the devices. A clearer image or additional views may be beneficial for a comprehensive assessment.",
                    "Model 7": "Midline sternotomy wires and mediastinal clips are noted. The cardiac and mediastinal silhouettes are stable. There is mild pulmonary vascular congestion. No focal consolidation, pleural effusion, or pneumothorax is seen."
                }
            },
            {
                "subject_id": "00000116_026",
                "context": "Age:75.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000116_026.png",
                "report": "Infiltration",
                "predictions": {
                    "Model 1": "Findings:The patient is status post median sternotomy and CABG.  A left-sided internal jugular central venous catheter terminates in the mid SVC.  A right-sided internal jugular central venous catheter terminates in the mid SVC.  A left-sided chest tube is present.  There is a small to moderate right pleural effusion with overlying atelectasis.  There is a small left pleural effusion with overlying atelectasis.  The cardiac silhouette is enlarged.  There is mild pulmonary edema.  No pneumothorax is seen.Impression:Small to moderate right pleural effusion with overlying atelectasis.  Small left pleural effusion with overlying atelectasis.  Mild pulmonary edema.  Enlarged cardiac silhouette.  Left-sided chest tube in appropriate position.",
                    "Model 2": "The endotracheal tube tip is approximately 3.5 cm from the carina. A nasogastric tube is present with the tip in the stomach. A left-sided pacer and multiple leads are in appropriate position. The patient is status post median sternotomy. There are multiple tubes and lines overlying the chest. There is mild pulmonary edema. There are moderate bilateral pleural effusions. There is no pneumothorax. The cardiac silhouette is enlarged.",
                    "Model 3": "Findings:as compared to the previous radiograph, there is no relevant change. the monitoring and support devices are constant. constant appearance of the cardiac silhouette. unchanged bilateral pleural effusions, right more than left, with subsequent areas of atelectasis. no new parenchymal opacities. no pneumothorax. Impression: ap chest compared to ___ through ___ : mild pulmonary edema has improved since ___. small - to - moderate bilateral pleural effusions remain. cardiac silhouette is effectively obscured. et tube in standard placement. nasogastric tube passes into the stomach and out of view. no pneumothorax.",
                    "Model 4": "Findings:single frontal view of the chest demonstrates endotracheal tube with tip in the right mainstem bronchus. nasogastric tube, mediastinal drain and left - sided chest tube are demonstrated. there is a right - sided pleural effusion. there is interval decrease in pulmonary edema. again demonstrated is cardiomegaly and unchanged. Impression: 1. interval placement of a right upper extremity picc line with tip in the right atrium. 2. no significant change in cardiopulmonary status with persistent bilateral pleural effusions, bibasilar opacities, and pulmonary edema.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. the monitoring and support devices, including the left chest tube, the endotracheal tube, the nasogastric tube and the right picc line are in unchanged position. unchanged appearance of the cardiac silhouette. unchanged bilateral pleural effusions, right more than left. Impression: ap chest compared to ___ through ___ : moderate right pleural effusion has increased, small left pleural effusion has increased, and mild pulmonary edema has developed. severe cardiomegaly is chronic. no pneumothorax. et tube in standard placement. upper enteric drainage tube passes into the stomach and out of view. transvenous right atrial and right ventricular pacer leads in standard placements.",
                    "Model 6": "I'm unable to analyze or interpret medical images such as X-rays. It's important to consult a qualified healthcare professional for accurate findings and impressions regarding medical imaging. If you have any other questions or need assistance with a different topic, feel free to ask!",
                    "Model 7": "No significant interval change when compared to the prior study."
                }
            },
            {
                "subject_id": "00000116_027",
                "context": "Age:75.Gender:M.Indication:None.Comparison:None.",
                "image_path": "../example_files/nih_images/00000116_027.png",
                "report": "No Finding",
                "predictions": {
                    "Model 1": "Findings:The patient is status post median sternotomy and CABG.  Left-sided AICD device is noted with leads terminating in the right atrium and right ventricle.  The heart is moderately enlarged.  The aorta is tortuous.  There is mild pulmonary edema.  Small bilateral pleural effusions are noted.  Bibasilar airspace opacities likely reflect atelectasis.  No pneumothorax is identified.  There are no acute osseous abnormalities.Impression:Mild pulmonary edema and small bilateral pleural effusions.  Bibasilar atelectasis.",
                    "Model 2": "The endotracheal tube terminates 5 cm above the carina. A nasogastric tube courses below the diaphragm with tip in the stomach. A left-sided pacer/defibrillator is in place. The patient is status post median sternotomy with multiple mediastinal surgical clips. There is a right internal jugular approach central venous catheter with tip terminating in the right atrium. There is a moderate right pleural effusion and a small left pleural effusion. There is no pneumothorax. The cardiac silhouette is enlarged. The mediastinal contours are within normal limits.",
                    "Model 3": "Findings:as compared to the previous radiograph, there is no relevant change. the monitoring and support devices are constant. constant appearance of the cardiac silhouette. unchanged bilateral pleural effusions, right more than left, with subsequent areas of atelectasis. no new parenchymal opacities. no pneumothorax. Impression: ap chest compared to ___ through ___ : moderate right pleural effusion has increased, pulmonary vascular congestion has progressed to the point of early interstitial edema. severe cardiomegaly is chronic. et tube in standard placement. feeding tube passes into the stomach and out of view. transvenous right atrial and right ventricular pacer leads are in standard placements. no pneumothorax.",
                    "Model 4": "Findings:initial study demonstrates interval placement of an endotracheal tube with the tip at the level of the clavicles. there is a nasogastric tube with the tip not seen on the study. there is a right internal jugular central venous catheter with the tip in the mid superior vena cava. there is a left subclavian line with the tip in the mid superior vena cava. there is a right - sided pleural effusion. bibasilar opacities are present. follow - up study demonstrates interval placement of a right - sided picc line with tip deep within the right atrium. the patient is intubated with the endotracheal tube above the carina. there is a nasogastric tube with tip in the stomach Impression: 1. interval placement of an endotracheal tube with the tip approximately 1. 5 cm above the carina. interval placement of a left upper extremity picc line with the tip approximately 2 cm below the cavoatrial junction. redemonstration of a left anterior chest wall single lead pacer with the tip in the right ventricle. 2. stable cardiomegaly. 3. interval increase in pulmonary edema, bilateral pleural effusions, and bibasilar opacities.",
                    "Model 5": "Findings:as compared to the previous radiograph, there is no relevant change. the monitoring and support devices, including the left chest tube, are in constant position. the extent of the right pleural effusion is constant. constant appearance of the cardiac silhouette. Impression: ap chest compared to ___ through ___ : moderate right pleural effusion has increased, small - to - moderate left pleural effusion is stable. moderate - to - severe enlargement of the cardiac silhouette and mediastinal vascular engorgement are stable. no pneumothorax. et tube in standard placement. upper enteric drainage tube passes into the stomach and out of view. transvenous right atrial and right ventricular pacer leads unchanged in their respective positions.",
                    "Model 6": "I'm unable to analyze or interpret medical images. It's important to consult a qualified healthcare professional for accurate findings and impressions regarding medical imaging. If you have any other questions or need assistance with a different topic, feel free to ask!",
                    "Model 7": "No significant interval change when compared to the prior study."
                }
            }
        ];
    
        function displayCase(index) {
            const currentCase = cases[index];
            
            // Update image
            const img = document.getElementById('xrayImage');
            img.src = currentCase.image_path;
            img.onclick = function() {
                openModal(this.src);
            };
            
            // Update report
            const reportElement = document.getElementById('imageReport');
            reportElement.textContent = currentCase.report.replace(/\|/g, ', ');
            

            // Update model predictions
            const predictionsContainer = document.getElementById('modelPredictions');
            predictionsContainer.innerHTML = '';
            
            Object.entries(currentCase.predictions).forEach(([model, prediction]) => {
                const modelCard = document.createElement('div');
                modelCard.className = 'model-card';
                modelCard.innerHTML = `
                    <div class="model-name">${model}</div>
                    <div class="model-prediction">${prediction}</div>
                `;
                predictionsContainer.appendChild(modelCard);
            });
            
            // Update case counter
            document.getElementById('currentCase').textContent = index + 1;
        }

        function openModal(imageSrc) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            modalImg.innerHTML = `<img src="${imageSrc}" style="max-width: 100%; max-height: 100%;">`;
            modal.style.display = 'block';
        }

        // Initialize first case
        displayCase(0);

        // Handle next case button
        document.getElementById('nextCase').addEventListener('click', () => {
            if (currentCaseIndex < cases.length - 1) {
                currentCaseIndex++;
                displayCase(currentCaseIndex);
            }
        });

        // Handle modal close
        document.getElementsByClassName('close')[0].onclick = function() {
            document.getElementById('imageModal').style.display = 'none';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('imageModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>